pipeline{
    agent any
    stages{
        stage("Checkout Code"){
            steps{
                   git url: 'https://github.com/YannickGongue/BankApp.git', branch: 'main'
                }         
        }
        stage("Build C# App"){
            steps{
                   sh '''
                          dotnet --version

                           dotnet restore BankApp/BankApp/BankApp.csproj \
                           -p:EnableWindowsTargeting=true

                            dotnet build BankApp/BankApp/BankApp.csproj \
                           -c Release \
                           -p:EnableWindowsTargeting=true
                       '''
            }
        }
    }
    
}   
